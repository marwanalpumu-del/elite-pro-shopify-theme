{% comment %}
  Elite Pro - Product Card Snippet
  Premium hover effects and AJAX-ready structure.
{% endcomment %}

<div class="elite-pro-card glass-panel reveal-item">
  <a href="{{ product.url }}" class="card-image-link" aria-label="{{ product.title }}">
    <div class="image-inner">
      <img src="{{ product.featured_image | image_url: width: 600 }}" 
           alt="{{ product.featured_image.alt | default: product.title }}" 
           class="main-card-img"
           loading="lazy"
           width="600"
           height="600">
      
      {% if product.images.size > 1 %}
        <img src="{{ product.images[1] | image_url: width: 600 }}" 
             alt="{{ product.title }}" 
             class="hover-card-img"
             loading="lazy"
             width="600"
             height="600">
      {% endif %}

      <div class="shine-effect"></div>
      
      {% unless product.available %}
        <span class="badge-sold-out">SOLD OUT</span>
      {% endunless %}
    </div>
  </a>

  <div class="card-info">
    <a href="{{ product.url }}" class="card-title-link">
      <h3 class="card-title">{{ product.title }}</h3>
    </a>
    
    <div class="price-box">
      <p class="card-price gold-text">{{ product.price | money }}</p>
      {% if product.compare_at_price > product.price %}
        <span class="compare-price">{{ product.compare_at_price | money }}</span>
      {% endif %}
    </div>

    {% form 'product', product, id: "quick-add-form" %}
      <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
      <button type="submit" 
              name="add" 
              class="btn-elite-sm {% unless product.available %}disabled{% endunless %}"
              {% unless product.available %}disabled{% endunless %}>
        {% if product.available %}
          ADD TO BAG
        {% else %}
          OUT OF STOCK
        {% endif %}
      </button>
    {% endform %}
  </div>
</div>

<style>
  .elite-pro-card { border-radius: 20px; overflow: hidden; transition: 0.5s; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.05); height: 100%; display: flex; flex-direction: column; }
  .image-inner { position: relative; overflow: hidden; aspect-ratio: 1/1; background: #111; }
  
  .main-card-img, .hover-card-img { width: 100%; height: 100%; object-fit: cover; transition: 0.8s cubic-bezier(0.4, 0, 0.2, 1); }
  .hover-card-img { position: absolute; top: 0; left: 0; opacity: 0; }

  /* Hover Animation */
  .elite-pro-card:hover .main-card-img { opacity: {% if product.images.size > 1 %}0{% else %}0.7{% endif %}; transform: scale(1.1); }
  .elite-pro-card:hover .hover-card-img { opacity: 1; transform: scale(1.05); }

  .card-info { padding: 20px; text-align: center; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
  .card-title-link { text-decoration: none; color: #fff; }
  .card-title { font-size: 1rem; margin-bottom: 10px; font-weight: 500; letter-spacing: 0.5px; }
  
  .price-box { margin-bottom: 15px; }
  .gold-text { color: var(--primary-gold, #D4AF37); font-weight: bold; font-size: 1.1rem; }
  .compare-price { text-decoration: line-through; opacity: 0.5; font-size: 0.8rem; margin-left: 8px; }

  .badge-sold-out { position: absolute; top: 15px; right: 15px; background: rgba(0,0,0,0.8); color: #fff; padding: 5px 12px; font-size: 0.7rem; border-radius: 50px; z-index: 2; border: 1px solid rgba(255,255,255,0.2); }

  .btn-elite-sm { background: var(--primary-gold, #D4AF37); border: none; padding: 12px 20px; border-radius: 50px; font-weight: bold; cursor: pointer; width: 100%; transition: 0.3s; color: #000; font-size: 0.8rem; letter-spacing: 1px; }
  .btn-elite-sm:hover:not(.disabled) { transform: translateY(-3px); box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3); }
  .btn-elite-sm.disabled { background: #333; color: #777; cursor: not-allowed; }

  .shine-effect { position: absolute; top: 0; left: -100%; width: 50%; height: 100%; background: linear-gradient(to right, transparent, rgba(255,255,255,0.1), transparent); transform: skewX(-25deg); transition: 0.7s; }
  .elite-pro-card:hover .shine-effect { left: 150%; }
</style>
