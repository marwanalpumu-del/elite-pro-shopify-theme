{% comment %}
  Elite Pro Framework - Luxury Dynamic Header
  Optimized for: Glassmorphism UI & Predictive Search
{% endcomment %}

<header id="EliteHeader" class="glass-panel">
  <div class="header-grid">
    
    <div class="header-left">
      <nav class="main-navigation" role="navigation">
        {% for link in section.settings.main_menu.links %}
          <a href="{{ link.url }}" class="nav-link" data-cursor-expand>{{ link.title | uppercase }}</a>
        {% endfor %}
      </nav>
    </div>

    <div class="header-center">
      <a href="{{ routes.root_url }}" class="shop-logo gold-text">
        {{ shop.name | uppercase }}
      </a>
    </div>

    <div class="header-right">
      <div class="search-wrapper" style="position: relative;">
        <form action="{{ routes.search_url }}" method="get" role="search" class="search-form">
          <input 
            type="text" 
            name="q" 
            placeholder="{{ 'general.search.placeholder' | t | default: 'SEARCH...' }}" 
            class="search-input-field"
            autocomplete="off"
            spellcheck="false"
          >
          <div id="predictive-search-results" class="glass-panel" style="display: none;"></div>
        </form>
      </div>

      <a href="{{ routes.cart_url }}" class="cart-trigger gold-text" id="CartCount" data-cursor-expand>
        [{{ cart.item_count }}]
      </a>
    </div>
  </div>
</header>

<style>
  #EliteHeader { 
    position: fixed; top: 0; left: 0; right: 0;
    padding: 25px 5%; 
    z-index: 1000; 
    transition: var(--transition-apple); 
    border-bottom: 1px solid rgba(255,255,255,0.05);
    background: transparent;
  }

  #EliteHeader.is-scrolled {
    padding: 15px 5%;
    background: rgba(5, 5, 5, 0.85);
    backdrop-filter: blur(var(--glass-blur));
    -webkit-backdrop-filter: blur(var(--glass-blur));
  }

  .header-grid { 
    display: grid; 
    grid-template-columns: 1fr auto 1fr; 
    align-items: center; 
    width: 100%; 
  }

  .shop-logo { 
    font-family: var(--header-font); 
    font-size: clamp(1.2rem, 2vw, 1.8rem); 
    letter-spacing: 5px; 
    text-decoration: none; 
    font-weight: 700; 
  }

  .nav-link { 
    margin-inline-end: 25px; 
    text-decoration: none; 
    color: #ffffff; 
    font-size: 0.7rem; 
    letter-spacing: 2px; 
    opacity: 0.6; 
    transition: var(--transition-apple); 
  }

  .nav-link:hover { opacity: 1; color: var(--elite-gold-primary); }

  .search-input-field { 
    background: transparent; border: none; 
    border-bottom: 1px solid rgba(255,255,255,0.1); 
    color: #ffffff; font-size: 0.7rem; 
    padding: 5px 0; outline: none; width: 120px;
    transition: var(--transition-apple); text-transform: uppercase;
  }

  .search-input-field:focus { width: 180px; border-bottom-color: var(--elite-gold-primary); }

  /* Predictive Search results styling linked to your JS */
  #predictive-search-results {
    position: absolute; top: calc(100% + 20px); right: 0;
    width: 350px; max-height: 400px; overflow-y: auto;
    z-index: 1001; padding: 15px;
    box-shadow: 0 20px 50px rgba(0,0,0,0.5);
  }

  /* Support for Arabic RTL */
  [lang="ar"] #predictive-search-results { right: auto; left: 0; }

  @media (max-width: 1024px) {
    .header-left, .search-wrapper { display: none; }
    .header-grid { grid-template-columns: 1fr 1fr; }
    .header-right { justify-self: end; }
  }
</style>

{% schema %}
{
  "name": "Luxury Header",
  "settings": [
    {
      "type": "link_list",
      "id": "main_menu",
      "label": "Select Menu",
      "default": "main-menu"
    }
  ],
  "presets": [
    {
      "name": "Luxury Header"
    }
  ]
}
{% endschema %}
