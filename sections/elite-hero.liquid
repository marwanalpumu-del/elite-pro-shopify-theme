{% comment %}
  Elite Pro - Advanced Hero Section
  Features: Intersection Observer Animations, Mobile Image Support, Content Alignment.
{% endcomment %}

<section class="elite-pro-hero section-{{ section.id }}">
  <div class="hero-overlay">
    <div class="hero-content-box glass-panel content-{{ section.settings.alignment }}">
      
      {%- if section.settings.sub_title != blank -%}
        <span class="gold-text-small reveal-item">{{ section.settings.sub_title }}</span>
      {%- endif -%}
      
      <h1 class="hero-main-title reveal-item">{{ section.settings.title }}</h1>
      
      {%- if section.settings.desc != blank -%}
        <p class="hero-subtitle reveal-item">{{ section.settings.desc }}</p>
      {%- endif -%}
      
      {%- if section.settings.btn_text != blank -%}
        <div class="reveal-item">
          <a href="{{ section.settings.link }}" class="btn-elite">{{ section.settings.btn_text }}</a>
        </div>
      {%- endif -%}

    </div>
  </div>
</section>

<style>
  /* Base Styles */
  .section-{{ section.id }} {
    height: {{ section.settings.hero_height }}vh;
    background-image: url('{{ section.settings.image | image_url: width: 2000 }}');
    background-size: cover;
    background-position: center;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
  }

  /* Responsive Background for Mobile */
  {% if section.settings.image_mobile != blank %}
  @media (max-width: 767px) {
    .section-{{ section.id }} {
      background-image: url('{{ section.settings.image_mobile | image_url: width: 800 }}');
      height: 75vh;
    }
  }
  {% endif %}

  .hero-overlay { 
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,{{ section.settings.overlay }});
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 5%;
  }

  /* Alignment Logic */
  .content-left { text-align: left; margin-right: auto; }
  .content-center { text-align: center; margin: 0 auto; }
  .content-right { text-align: right; margin-left: auto; }

  .hero-content-box { padding: 50px; max-width: 850px; border-radius: 30px; }
  .hero-main-title { 
    font-size: clamp(2.5rem, 5vw, 4.5rem); 
    font-family: 'Playfair Display', serif; 
    margin: 20px 0; 
    line-height: 1.1; 
    color: #fff; 
  }
  .gold-text-small { 
    color: var(--primary-gold, #D4AF37); 
    letter-spacing: 5px; 
    text-transform: uppercase; 
    font-size: 0.9rem; 
    font-weight: bold; 
    display: block;
  }
  .hero-subtitle { margin-bottom: 40px; opacity: 0.8; font-size: 1.2rem; color: #eee; line-height: 1.6; }

  /* --- Animation CSS --- */
  .reveal-item {
    opacity: 0;
    transform: translateY(30px);
    transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .reveal-item.active {
    opacity: 1;
    transform: translateY(0);
  }

  /* Staggered Delay for elegant sequence */
  .reveal-item:nth-child(1) { transition-delay: 0.2s; }
  .reveal-item:nth-child(2) { transition-delay: 0.4s; }
  .reveal-item:nth-child(3) { transition-delay: 0.6s; }
  .reveal-item:nth-child(4) { transition-delay: 0.8s; }
</style>

<script>
/**
 * Animation Logic: Intersection Observer
 * Triggers animation when section enters viewport
 */
document.addEventListener("DOMContentLoaded", function() {
  const heroObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        const items = entry.target.querySelectorAll('.reveal-item');
        items.forEach(item => item.classList.add('active'));
      }
    });
  }, { threshold: 0.15 });

  const heroSection = document.querySelector('.section-{{ section.id }}');
  if (heroSection) heroObserver.observe(heroSection);
});
</script>

{% schema %}
{
  "name": "Elite Hero Pro",
  "settings": [
    { "type": "header", "content": "Media Settings" },
    { "type": "image_picker", "id": "image", "label": "Desktop Background" },
    { "type": "image_picker", "id": "image_mobile", "label": "Mobile Background (Optional)" },
    { "type": "range", "id": "hero_height", "min": 50, "max": 100, "step": 5, "unit": "vh", "label": "Section Height", "default": 90 },
    
    { "type": "header", "content": "Layout & Design" },
    { "type": "select", "id": "alignment", "label": "Content Alignment", "options": [
        {"value": "left", "label": "Left"}, {"value": "center", "label": "Center"}, {"value": "right", "label": "Right"}
      ], "default": "center" },
    { "type": "select", "id": "overlay", "label": "Overlay Intensity", "options": [
        {"value": "0.1", "label": "Very Light"}, {"value": "0.3", "label": "Light"}, {"value": "0.5", "label": "Medium"}, {"value": "0.7", "label": "Dark"}
      ], "default": "0.5" },
    
    { "type": "header", "content": "Text Content" },
    { "type": "text", "id": "sub_title", "label": "Sub Title", "default": "Exclusive Collection" },
    { "type": "text", "id": "title", "label": "Heading", "default": "ELITE PRO LUXURY" },
    { "type": "textarea", "id": "desc", "label": "Description", "default": "Defining the future of luxury commerce." },
    { "type": "text", "id": "btn_text", "label": "Button Text", "default": "EXPLORE NOW" },
    { "type": "url", "id": "link", "label": "Button Link" }
  ],
  "presets": [
    {
      "name": "Elite Hero Pro",
      "settings": {
        "title": "ELITE PRO LUXURY",
        "alignment": "center"
      }
    }
  ]
}
{% endschema %}
