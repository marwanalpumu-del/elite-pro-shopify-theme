
<section class="collection-page reveal" data-section="{{ section.id }}">
  <div class="collection-header glass-panel">
    <h1 class="collection-title">{{ collection.title }}</h1>
    {% if collection.description != blank %}
      <div class="collection-desc">{{ collection.description }}</div>
    {% endif %}
  </div>

  <div class="collection-container">
    <div class="collection-toolbar">
      <p class="product-count">{{ 'products.collection.product_count' | t: count: collection.products_count | default: collection.products_count | append: ' Products' }}</p>
      
      <div class="sort-wrapper">
        <select id="sort-by" class="glass-panel sort-select">
          {% for option in collection.sort_options %}
            <option value="{{ option.value }}" {% if option.value == collection.sort_by %}selected{% endif %}>
              {{ option.name }}
            </option>
          {% endfor %}
        </select>
      </div>
    </div>

    <div class="elite-grid">
      {% for product in collection.products %}
        {% render 'product-card', product: product %}
      {% else %}
        <p class="no-products">{{ 'products.collection.no_products' | t | default: 'No products found in this collection.' }}</p>
      {% endfor %}
    </div>

    {% if paginate.pages > 1 %}
      <div class="pagination glass-panel">
        {{ paginate | default_pagination }}
      </div>
    {% endif %}
  </div>
</section>

<style>
  .collection-page { padding: 120px 5% 60px; }
  
  .collection-header { 
    padding: 60px 20px; 
    text-align: center; 
    border-radius: 30px; 
    margin-bottom: 50px;
    background: linear-gradient(to bottom, rgba(212, 175, 55, 0.05), var(--glass-bg));
  }

  .collection-title { font-family: 'Playfair Display'; font-size: 3rem; margin-bottom: 15px; color: var(--primary-gold); }
  .collection-desc { max-width: 600px; margin: 0 auto; opacity: 0.7; line-height: 1.6; }

  .collection-toolbar { 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
    margin-bottom: 30px; 
    padding: 0 10px;
  }

  .product-count { font-size: 0.9rem; letter-spacing: 1px; text-transform: uppercase; opacity: 0.6; }

  .sort-select { 
    padding: 10px 20px; 
    border-radius: 50px; 
    color: #fff; 
    background: transparent; 
    border: 1px solid rgba(255,255,255,0.1); 
    cursor: pointer;
    outline: none;
  }

  .no-products { text-align: center; padding: 100px 0; font-size: 1.2rem; opacity: 0.5; }

  /* Pagination Styling */
  .pagination { 
    margin-top: 50px; 
    padding: 20px; 
    border-radius: 50px; 
    text-align: center; 
    display: flex; 
    justify-content: center; 
    gap: 15px; 
  }
  .pagination a, .pagination span { color: #fff; text-decoration: none; padding: 5px 12px; border-radius: 50%; }
  .pagination .current { background: var(--primary-gold); color: #000; font-weight: 700; }

  @media (max-width: 767px) {
    .collection-title { font-size: 2rem; }
    .collection-toolbar { flex-direction: column; gap: 20px; }
  }
</style>

{% schema %}
{
  "name": "Collection Page",
  "settings": [
    {
      "type": "range",
      "id": "products_per_page",
      "min": 8,
      "max": 24,
      "step": 4,
      "default": 16,
      "label": "Products per page"
    }
  ]
}
{% endschema %}
